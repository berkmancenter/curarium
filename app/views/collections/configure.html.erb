<% provide :title, 'Configure Collection' %>

<div class="container-fluid container-show-item"> 
  <div class="row">
    <div class="col-sm-4 col-md-2 col-lg-2 col-info">
      <h2 class="h3 page-header">Collection</h2>

      <%= render partial: 'collections/thumbnail', object: @collection %>

      <div class="alert alert-warning">
        When you are happy with the configuration of this collection to the right, click the button below to update all the records. This process can take a while depending on the size of your collection and the collection cannot be reconfigured until it has finished.
      </div>

      <a href="javascript:void(0);">Click for instructions</a>

      <%= form_for @collection, method: :post, url: reconfigure_collection_path do |f| %>
        <%= f.button render( partial: 'shared/mini_icon', object: 'admin', locals: { icon_title: 'Update' } ), type: 'submit', class: 'btn btn-warning' %>
      <% end %>
    </div>

    <div class="col-sm-8 col-md-10 col-lg-10">
    
      <div class="row">

        <div class="col-sm-6 hidden-xs col-sample-work">

          <h2 class="h3 page-header">Configure Collection</h2>

          <h2 class="h4 page-header">Sample Record</h2>

          <div class="row">
            <form id="sample_work_form" method="GET" action="<%= sample_work_collection_path @collection %>">
              <div class="col-sm-8">
                <div class="form-group">
                  <input type="search" id="sample_work_filter" name="sample_work_filter" class="form-control" placeholder="Search by original file name">
                </div>
              </div>
              <div class="col-sm-4">
                <button type="submit" class="btn btn-primary">Search</button>
              </div>
            </form>
          </div>

          <%= render partial: 'works/original', object: @sample_work %>
        </div>

        <div class="col-sm-6 col-active-fields hidden-xs">
          <div class="panel panel-primary panel-configure">
            <div class="alert alert-success hidden">
              Saved <span class="active-fields-save-date"></span>
            </div>

            <div class="panel-heading">
              <h3 class="panel-title">Active Fields</h3>
            </div>

            <div class="panel-body">
              <%= render partial: 'collections/form_active_fields' %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

